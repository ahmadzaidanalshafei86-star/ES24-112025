@model PurchaseOrderDetailsViewModel

@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@section Styles {
    <style>
        .label-value {
            font-weight: bold;
            color: #6472b6;
            font-size: 18px;
            display: block;
        }

        .detail-label {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .detail-item {
            margin-bottom: 20px;
        }

        table.files-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

            table.files-table th,
            table.files-table td {
                border: 1px solid #ddd;
                padding: 10px;
                text-align: left;
            }

            table.files-table th {
                background-color: #0361af;
                color: #fff;
            }

        .btn-download {
            background-color: #0361af;
            color: #fff;
            border: none;
            padding: 5px 10px;
            text-decoration: none;
            border-radius: 4px;
        }

            .btn-download:hover {
                background-color: #02457a;
            }
    </style>
}

<!-- Page Header -->
<div class="caption-inner">
    <div class="inner-bg" style="background: url('/WebSite/images/header2.jpg') no-repeat fixed center center;"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <ol class="breadcrumb">
                    <li><a href="~/">@Localizer["Home"]</a></li>
                    <li class="active">@Model.Title</li>
                </ol>
                <h3><span>@Model.Title</span></h3>
            </div>
        </div>
    </div>
</div>

<!-- PurchaseOrder Details -->
<div class="content-inner">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 detail-item">
                <label class="detail-label">@Localizer["PurchaseOrder Code"]</label>
                <span class="label-value">@Model.Code</span>
            </div>

            <div class="col-md-12 detail-item">
                <label class="detail-label">@Localizer["PurchaseOrder Name"]</label>
                <span class="label-value">@Model.Title</span>
            </div>

           

            <div class="col-md-12 detail-item">
                <label class="detail-label">@Localizer["Start Date"]</label>
                <span class="label-value">@Model.StartDate.ToString("yyyy-MM-dd")</span>
            </div>

            <div class="col-md-12 detail-item">
                <label class="detail-label">@Localizer["End Date"]</label>
                <span class="label-value">@Model.EndDate.ToString("yyyy-MM-dd hh:mm tt")</span>
            </div>

            <!-- PurchaseOrder Files -->
            @if (Model.ExistingFiles != null && Model.ExistingFiles.Any())
            {
                <table class="files-table">
                    <thead>
                        <tr>
                            <th>@Localizer["File Name"]</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var file in Model.ExistingFiles)
                        {
                            <tr>
                                <td>@file.FileName</td>
                                <td>
                                    <a href="@file.FileUrl" target="_blank" class="btn-download">@Localizer["Download"]</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <span>@Localizer["No files available."]</span>
            }



        </div>


        <div class="row">

            <div class="col-md-12 detail-item">
               <hr />
                <span class="label-value">@Localizer["Inquiry"]</span>
            </div>
            <div class="col-md-12">
                <form asp-action="SubmitInquiry" asp-controller="PurchaseOrder" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="PurchaseOrderId" value="@Model.Id" />

            <div class="row">
                <div class="col-md-4">
                            <label>@Localizer["Name"] *</label>
                    <input name="Name" class="form-control" required />
                </div>

                <div class="col-md-4">
                            <label>@Localizer["Phone"] *</label>
                    <input name="Phone" class="form-control" required />
                </div>

                <div class="col-md-4">
                            <label>@Localizer["Email"] *</label>
                    <input name="Email" type="email" class="form-control" required />
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 mt-3">
                            <label>@Localizer["Attach File"]</label>
                    <input type="file" name="Attachment" class="form-control" accept=".pdf,.doc,.docx" />
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-md-12">
                            <label>@Localizer["Inquiry"] *</label>
                    <textarea name="Inquiry" class="form-control" rows="5" required></textarea>
                </div>
            </div>

                    <button class="btn btn-primary mt-3">@Localizer["Send Inquiry"]</button>



                    @* عرض رسائل النجاح أو الخطأ *@
                    @if (TempData["Success"] != null)
                    {
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            @TempData["Success"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }

                    @if (TempData["Error"] != null)
                    {
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            @TempData["Error"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    }

        </form>
            </div>
        </div>





    </div>
</div>
